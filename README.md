# Automated CI/CD Pipeline for Web Application Deployment on AWS EC2

## Aim

The goal of this project is to create a comprehensive Continuous Integration and Continuous Deployment (CI/CD) pipeline using AWS services such as CodeCommit, CodeBuild, CodeDeploy, S3, and CodePipeline. This pipeline will automate the end-to-end process of developing, building, testing, and deploying a web application hosted on EC2 instances. By doing so, the project aims to minimize manual intervention, reduce deployment errors, ensure faster delivery of updates, and maintain a high level of operational efficiency.

## Architecture

![CICD_EC2](https://github.com/user-attachments/assets/b1bfe915-1a9a-4758-a1c7-677589ab211f)

## Steps

### 1.	Clone the CodeCommit Repository

o	Setup in VS Code

  	Open Visual Studio Code (VS Code) on your local machine.

  	Access the integrated terminal within VS Code.

o	Clone the Repository

  	Use the following Git command to clone your CodeCommit repository:
  
  bash
  
  Copy code
  
  git clone https://git-codecommit.ap-southeast-1.amazonaws.com/v1/repos/CICD_PROJECT
  
  cd CICD_PROJECT
  
  	This command will clone the repository named CICD_PROJECT from AWS CodeCommit to your local machine, setting up a local workspace.

### 2.  Add Dependency Files

o	Create buildspec.yml

  	In the root of the CICD_PROJECT directory, create a file named buildspec.yml.
  
  	This file will define the build instructions, including installing dependencies, running tests, and packaging the application.
  
o	Create appspec.yml
  	In the root directory, create another file named appspec.yml.
  
  	This file specifies how CodeDeploy should deploy the application to the EC2 instances.
  
### 3.	Add Script Files

o	Create scripts Folder

  	Inside the CICD_PROJECT directory, create a new folder named scripts.
  
o	Add install_nginx.sh

  	Inside the scripts folder, create a shell script named install_nginx.sh.
  
  	This script will install NGINX on the EC2 instance.

o	Add start_nginx.sh

  	In the same scripts folder, create another shell script named start_nginx.sh.
  
  	This script will start the NGINX service after installation.

### 4.	Commit and Push Changes

o	Stage Changes

  	In the VS Code terminal, navigate to your project directory and use Git to stage the changes:

  git add .
  
o	Commit Changes

  	Commit the staged changes with a meaningful commit message:

  git commit -m "First Commit"
  
o	Push to CodeCommit

  	Push your changes to the master branch of your CodeCommit repository:

  git push origin master
  
o	Verify in CodeCommit

  	Log in to the AWS Management Console and navigate to CodeCommit.
  
  	Confirm that the files have been successfully pushed to the repository.

### 5.	 Create an S3 Bucket

o	Navigate to S3

  	In the AWS Management Console, go to the S3 service.
  
o	Create New Bucket

  	Create a new S3 bucket that will store build artifacts generated by CodeBuild.
  
  	Set the bucket name and region, and adjust permissions as necessary. 

### 6.	Set Up CodeBuild

o	Create a CodeBuild Project

  	In the AWS Management Console, navigate to CodeBuild.
  
  	Create a new build project and link it to your CodeCommit repository.
  
  	Configure the build project to use the buildspec.yml file in your repository.
  
o	Check Artifacts in S3

  	After the build completes, go to the S3 bucket and verify that the build artifacts are present.
  
  	Download and inspect the artifacts to ensure the build process was successful.

### 7.	Configure IAM Roles

o	Create IAM Role for CodeDeploy

  	In the IAM service, create a role that grants CodeDeploy the necessary permissions to access your EC2 instances and S3 bucket.
  
  	Attach the appropriate policies, such as AmazonS3FullAccess and AmazonEC2FullAccess.
  
o	Create IAM Role for EC2

  	Create another IAM role for your EC2 instances, allowing them to interact with AWS services.
  
  	Attach policies such as AmazonS3ReadOnlyAccess and AmazonEC2RoleforSSM.

### 8.	Set Up EC2 Instances

o	Launch EC2 Instances

  	In the EC2 service, launch one or more instances that will host your web application.
  
  	Attach the previously created EC2 IAM role to these instances.
  
o	Configure Security Groups

  	Ensure the EC2 instances’ security groups allow HTTP/HTTPS traffic on ports 80/443.
  
  	Add your public IP to the inbound rules if necessary for SSH access.

### 9.	Create a CodeDeploy Application

o	Create the Application

  	Navigate to CodeDeploy in the AWS Management Console.
  
  	Create a new application and give it a meaningful name.
  
o	Create Deployment Group

  	Within the CodeDeploy application, create a deployment group that targets your EC2 instances.
  
  	Specify the deployment settings, such as deployment type and rollback options.
  
o	Deploy the Application

  	Use CodeDeploy to deploy the application from the CodeCommit repository to your EC2 instances.

### 10. 	Verify Deployment

o	Access the Deployed Application

  	After deployment, obtain the public IP address of one of your EC2 instances.
  
  	Paste the IP address into your browser’s address bar to access the deployed web application.
  
  	Verify that the application is running as expected.

## Documentation Link

https://docs.google.com/document/d/1Nd6e0-KimHBvQH2_jZhNjyfyKz2B30u9PnOi3z6lfLc/edit?usp=sharing

## Expected Outcome

The automated deployment process will ensure each code change in CodeCommit triggers a build, test, and deployment without manual intervention. CodeCommit will manage version control and collaboration, while build artifacts are stored securely in S3. EC2 instances with NGINX, managed by CodeDeploy, will securely host the application using IAM roles. The streamlined CI/CD pipeline will enable rapid code delivery with real-time feedback for quick adjustments.
